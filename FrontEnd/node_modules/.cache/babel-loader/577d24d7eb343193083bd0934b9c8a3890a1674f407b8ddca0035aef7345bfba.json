{"ast":null,"code":"// swDev.js\n\n/* eslint-disable no-restricted-globals */\n\nimport { getMessaging, getToken } from 'firebase/messaging';\nexport default function swDev() {\n  const vapidPublicKey = \"BF9Q0ytyvFzr7aZRCqwNQRhYGhTkO9NFZyQDU_FUNQ5rV0jcZ0_hYjjB9yd5CGzFGQrPDLEDSX03K8_FR1d3v6g\";\n  const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\n  navigator.serviceWorker.register(swUrl).then(registration => {\n    const messaging = getMessaging();\n    return getToken(messaging, {\n      vapidKey: vapidPublicKey,\n      serviceWorkerRegistration: registration\n    }).then(currentToken => {\n      if (currentToken) {\n        console.log('Token generated:', currentToken);\n        // Send the token to your server or use it as needed\n      } else {\n        console.log('No registration token available. Request permission to generate one.');\n      }\n    }).catch(err => {\n      console.log('An error occurred while retrieving token. ', err);\n    });\n  }).catch(err => {\n    console.log('Service worker registration failed:', err);\n  });\n}\n\n// sw.js (Service Worker)\nconst cacheData = \"appV1\";\nself.addEventListener(\"install\", event => {\n  event.waitUntil(caches.open(cacheData).then(cache => {\n    return cache.addAll(['/static/js/bundle.js', '/bootstrap.min.css', '/index.html', '/', 'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css', '/home.css']);\n  }));\n});\nself.addEventListener(\"fetch\", event => {\n  if (!navigator.onLine) {\n    if (event.request.url.includes(\"static/js/bundle.js\")) {\n      event.waitUntil(self.registration.showNotification(\"Internet\", {\n        body: \"You are offline\"\n      }));\n    }\n    event.respondWith(caches.match(event.request).then(response => {\n      if (response) {\n        return response;\n      }\n      return fetch(event.request);\n    }));\n  }\n});","map":{"version":3,"names":["getMessaging","getToken","swDev","vapidPublicKey","swUrl","process","env","PUBLIC_URL","navigator","serviceWorker","register","then","registration","messaging","vapidKey","serviceWorkerRegistration","currentToken","console","log","catch","err","cacheData","self","addEventListener","event","waitUntil","caches","open","cache","addAll","onLine","request","url","includes","showNotification","body","respondWith","match","response","fetch"],"sources":["/home/rguktrkvalley/rgukt-event-management/src/swDev.js"],"sourcesContent":["// swDev.js\n\n/* eslint-disable no-restricted-globals */\n\nimport { getMessaging, getToken } from 'firebase/messaging';\n\nexport default function swDev() {\n    const vapidPublicKey = \"BF9Q0ytyvFzr7aZRCqwNQRhYGhTkO9NFZyQDU_FUNQ5rV0jcZ0_hYjjB9yd5CGzFGQrPDLEDSX03K8_FR1d3v6g\";\n    const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\n\n    navigator.serviceWorker.register(swUrl).then((registration) => {\n        const messaging = getMessaging();\n        return getToken(messaging, {\n            vapidKey: vapidPublicKey,\n            serviceWorkerRegistration: registration\n        }).then((currentToken) => {\n            if (currentToken) {\n                console.log('Token generated:', currentToken);\n                // Send the token to your server or use it as needed\n            } else {\n                console.log('No registration token available. Request permission to generate one.');\n            }\n        }).catch((err) => {\n            console.log('An error occurred while retrieving token. ', err);\n        });\n    }).catch((err) => {\n        console.log('Service worker registration failed:', err);\n    });\n}\n\n// sw.js (Service Worker)\nconst cacheData = \"appV1\";\n\nself.addEventListener(\"install\", (event) => {\n    event.waitUntil(\n        caches.open(cacheData).then((cache) => {\n            return cache.addAll([\n                '/static/js/bundle.js',\n                '/bootstrap.min.css',\n                '/index.html',\n                '/',\n                'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css',\n                '/home.css'\n            ]);\n        })\n    );\n});\n\nself.addEventListener(\"fetch\", (event) => {\n    if (!navigator.onLine) {\n        if (event.request.url.includes(\"static/js/bundle.js\")) {\n            event.waitUntil(\n                self.registration.showNotification(\"Internet\", {\n                    body: \"You are offline\",\n                })\n            );\n        }\n        event.respondWith(\n            caches.match(event.request).then((response) => {\n                if (response) {\n                    return response;\n                }\n                return fetch(event.request);\n            })\n        );\n    }\n});\n"],"mappings":"AAAA;;AAEA;;AAEA,SAASA,YAAY,EAAEC,QAAQ,QAAQ,oBAAoB;AAE3D,eAAe,SAASC,KAAKA,CAAA,EAAG;EAC5B,MAAMC,cAAc,GAAG,yFAAyF;EAChH,MAAMC,KAAK,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,QAAQ;EAE/CC,SAAS,CAACC,aAAa,CAACC,QAAQ,CAACN,KAAK,CAAC,CAACO,IAAI,CAAEC,YAAY,IAAK;IAC3D,MAAMC,SAAS,GAAGb,YAAY,CAAC,CAAC;IAChC,OAAOC,QAAQ,CAACY,SAAS,EAAE;MACvBC,QAAQ,EAAEX,cAAc;MACxBY,yBAAyB,EAAEH;IAC/B,CAAC,CAAC,CAACD,IAAI,CAAEK,YAAY,IAAK;MACtB,IAAIA,YAAY,EAAE;QACdC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,YAAY,CAAC;QAC7C;MACJ,CAAC,MAAM;QACHC,OAAO,CAACC,GAAG,CAAC,sEAAsE,CAAC;MACvF;IACJ,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAK;MACdH,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEE,GAAG,CAAC;IAClE,CAAC,CAAC;EACN,CAAC,CAAC,CAACD,KAAK,CAAEC,GAAG,IAAK;IACdH,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEE,GAAG,CAAC;EAC3D,CAAC,CAAC;AACN;;AAEA;AACA,MAAMC,SAAS,GAAG,OAAO;AAEzBC,IAAI,CAACC,gBAAgB,CAAC,SAAS,EAAGC,KAAK,IAAK;EACxCA,KAAK,CAACC,SAAS,CACXC,MAAM,CAACC,IAAI,CAACN,SAAS,CAAC,CAACV,IAAI,CAAEiB,KAAK,IAAK;IACnC,OAAOA,KAAK,CAACC,MAAM,CAAC,CAChB,sBAAsB,EACtB,oBAAoB,EACpB,aAAa,EACb,GAAG,EACH,8EAA8E,EAC9E,WAAW,CACd,CAAC;EACN,CAAC,CACL,CAAC;AACL,CAAC,CAAC;AAEFP,IAAI,CAACC,gBAAgB,CAAC,OAAO,EAAGC,KAAK,IAAK;EACtC,IAAI,CAAChB,SAAS,CAACsB,MAAM,EAAE;IACnB,IAAIN,KAAK,CAACO,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC,qBAAqB,CAAC,EAAE;MACnDT,KAAK,CAACC,SAAS,CACXH,IAAI,CAACV,YAAY,CAACsB,gBAAgB,CAAC,UAAU,EAAE;QAC3CC,IAAI,EAAE;MACV,CAAC,CACL,CAAC;IACL;IACAX,KAAK,CAACY,WAAW,CACbV,MAAM,CAACW,KAAK,CAACb,KAAK,CAACO,OAAO,CAAC,CAACpB,IAAI,CAAE2B,QAAQ,IAAK;MAC3C,IAAIA,QAAQ,EAAE;QACV,OAAOA,QAAQ;MACnB;MACA,OAAOC,KAAK,CAACf,KAAK,CAACO,OAAO,CAAC;IAC/B,CAAC,CACL,CAAC;EACL;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}